{"ast":null,"code":"import { ChangeDetectorRef, inject } from '@angular/core';\nimport { takeUntil } from \"rxjs\";\nimport { NotificationService } from \"../../services/notification.service\";\nimport { AsyncPipe, NgClass, NgForOf, NgIf } from \"@angular/common\";\nimport { OnDestroyService } from \"../../services/on-destroy.service\";\nimport { Constants } from \"../../interfaces/constants\";\nimport * as i0 from \"@angular/core\";\nfunction NotificationComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const notification_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.setNotificationClass(notification_r2.type));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", notification_r2 == null ? null : notification_r2.message, \" \");\n  }\n}\nfunction NotificationComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NotificationComponent_ng_container_0_div_1_Template, 2, 2, \"div\", 1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.notifications$));\n  }\n}\nexport class NotificationComponent {\n  constructor() {\n    this.isVisible = false;\n    this.notificationService = inject(NotificationService);\n    this.onDestroyService = inject(OnDestroyService);\n    this.cd = inject(ChangeDetectorRef);\n    this.notifications$ = this.notificationService.notifications$;\n  }\n  ngOnInit() {\n    this.notifications$.pipe(takeUntil(this.onDestroyService)).subscribe(message => {\n      if (message.length) {\n        this.isVisible = true;\n        setTimeout(() => {\n          this.isVisible = false;\n          this.notificationService.notifications$.next([]);\n          this.cd.detectChanges();\n        }, 4000);\n      }\n      this.cd.detectChanges();\n    });\n  }\n  setNotificationClass(type) {\n    return type === Constants.SUCCESS_NOTIFICATION_TYPE ? 'success' : 'failed';\n  }\n  static #_ = this.ɵfac = function NotificationComponent_Factory(t) {\n    return new (t || NotificationComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NotificationComponent,\n    selectors: [[\"app-notification\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"]],\n    template: function NotificationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NotificationComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isVisible);\n      }\n    },\n    dependencies: [NgForOf, AsyncPipe, NgIf, NgClass],\n    styles: [\".success[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n  border: 1px solid #479e4c;\\n  border-radius: 5px;\\n  background-color: #66BB6A;\\n  padding: 10px 90px 10px 20px;\\n  box-shadow: 7px 6px 19px -4px rgba(0,0,0,0.75);\\n  height: 25px;\\n  color: #fff;\\n}\\n\\n.failed[_ngcontent-%COMP%] {\\n  position: absolute;\\n  left: 5px;\\n  top: 5px;\\n  border: 1px solid #eb608a;\\n  border-radius: 5px;\\n  background-color: #EF7DA0;\\n  padding: 10px 90px 10px 20px;\\n  box-shadow: 7px 6px 19px -4px rgba(0,0,0,0.75);\\n  height: 25px;\\n  color: #fff;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixRQUFRO0VBQ1IseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLDhDQUE4QztFQUM5QyxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxRQUFRO0VBQ1IseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLDhDQUE4QztFQUM5QyxZQUFZO0VBQ1osV0FBVztBQUNiIiwiZmlsZSI6Im5vdGlmaWNhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Y2Nlc3Mge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiA1cHg7XG4gIHRvcDogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjNDc5ZTRjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2NkJCNkE7XG4gIHBhZGRpbmc6IDEwcHggOTBweCAxMHB4IDIwcHg7XG4gIGJveC1zaGFkb3c6IDdweCA2cHggMTlweCAtNHB4IHJnYmEoMCwwLDAsMC43NSk7XG4gIGhlaWdodDogMjVweDtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi5mYWlsZWQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDVweDtcbiAgdG9wOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYjYwOGE7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VGN0RBMDtcbiAgcGFkZGluZzogMTBweCA5MHB4IDEwcHggMjBweDtcbiAgYm94LXNoYWRvdzogN3B4IDZweCAxOXB4IC00cHggcmdiYSgwLDAsMCwwLjc1KTtcbiAgaGVpZ2h0OiAyNXB4O1xuICBjb2xvcjogI2ZmZjtcbn1cbiJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkLWNvbXBvbmVudHMvbm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixRQUFRO0VBQ1IseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLDhDQUE4QztFQUM5QyxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxRQUFRO0VBQ1IseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLDhDQUE4QztFQUM5QyxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBLHd3Q0FBd3dDIiwic291cmNlc0NvbnRlbnQiOlsiLnN1Y2Nlc3Mge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiA1cHg7XG4gIHRvcDogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjNDc5ZTRjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2NkJCNkE7XG4gIHBhZGRpbmc6IDEwcHggOTBweCAxMHB4IDIwcHg7XG4gIGJveC1zaGFkb3c6IDdweCA2cHggMTlweCAtNHB4IHJnYmEoMCwwLDAsMC43NSk7XG4gIGhlaWdodDogMjVweDtcbiAgY29sb3I6ICNmZmY7XG59XG5cbi5mYWlsZWQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDVweDtcbiAgdG9wOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYjYwOGE7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VGN0RBMDtcbiAgcGFkZGluZzogMTBweCA5MHB4IDEwcHggMjBweDtcbiAgYm94LXNoYWRvdzogN3B4IDZweCAxOXB4IC00cHggcmdiYSgwLDAsMCwwLjc1KTtcbiAgaGVpZ2h0OiAyNXB4O1xuICBjb2xvcjogI2ZmZjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n    changeDetection: 0\n  });\n}","map":{"version":3,"names":["ChangeDetectorRef","inject","takeUntil","NotificationService","AsyncPipe","NgClass","NgForOf","NgIf","OnDestroyService","Constants","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r1","setNotificationClass","notification_r2","type","ɵɵadvance","ɵɵtextInterpolate1","message","ɵɵelementContainerStart","ɵɵtemplate","NotificationComponent_ng_container_0_div_1_Template","ɵɵelementContainerEnd","ɵɵpipeBind1","ctx_r0","notifications$","NotificationComponent","constructor","isVisible","notificationService","onDestroyService","cd","ngOnInit","pipe","subscribe","length","setTimeout","next","detectChanges","SUCCESS_NOTIFICATION_TYPE","_","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","NotificationComponent_Template","rf","ctx","NotificationComponent_ng_container_0_Template","styles","changeDetection"],"sources":["/Users/romankrasnobai/Documents/programming-pet-projects/ucg-test/src/app/shared-components/notification/notification.component.ts","/Users/romankrasnobai/Documents/programming-pet-projects/ucg-test/src/app/shared-components/notification/notification.component.html"],"sourcesContent":["import {ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, OnInit} from '@angular/core';\nimport {BehaviorSubject, takeUntil} from \"rxjs\";\nimport {Notification} from \"../../interfaces/notification.interface\";\nimport {NotificationService} from \"../../services/notification.service\";\nimport {AsyncPipe, NgClass, NgForOf, NgIf} from \"@angular/common\";\nimport {OnDestroyService} from \"../../services/on-destroy.service\";\nimport {Constants} from \"../../interfaces/constants\";\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    NgForOf,\n    AsyncPipe,\n    NgIf,\n    NgClass\n  ]\n})\nexport class NotificationComponent implements OnInit {\n  isVisible: boolean = false;\n\n  notificationService = inject(NotificationService);\n  onDestroyService = inject(OnDestroyService);\n  cd = inject(ChangeDetectorRef);\n\n  notifications$: BehaviorSubject<Notification[]> = this.notificationService.notifications$;\n\n  ngOnInit(): void {\n    this.notifications$\n      .pipe(takeUntil(this.onDestroyService))\n      .subscribe(message => {\n        if (message.length) {\n          this.isVisible = true;\n          setTimeout(() => {\n            this.isVisible = false;\n            this.notificationService.notifications$.next([]);\n            this.cd.detectChanges();\n          }, 4000);\n        }\n        this.cd.detectChanges();\n    });\n  }\n\n  setNotificationClass(type: string): string {\n    return type === Constants.SUCCESS_NOTIFICATION_TYPE ? 'success' : 'failed';\n  }\n}\n","<ng-container *ngIf=\"isVisible\">\n  <div [ngClass]=\"setNotificationClass(notification.type)\"\n       *ngFor=\"let notification of (notifications$ | async)\"\n  >\n    {{ notification?.message }}\n  </div>\n</ng-container>\n"],"mappings":"AAAA,SAAiCA,iBAAiB,EAAaC,MAAM,QAAe,eAAe;AACnG,SAAyBC,SAAS,QAAO,MAAM;AAE/C,SAAQC,mBAAmB,QAAO,qCAAqC;AACvE,SAAQC,SAAS,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,QAAO,iBAAiB;AACjE,SAAQC,gBAAgB,QAAO,mCAAmC;AAClE,SAAQC,SAAS,QAAO,4BAA4B;;;;ICLlDC,EAAA,CAAAC,cAAA,aAEC;IACCD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IAJDH,EAAA,CAAAI,UAAA,YAAAC,MAAA,CAAAC,oBAAA,CAAAC,eAAA,CAAAC,IAAA,EAAmD;IAGtDR,EAAA,CAAAS,SAAA,GACF;IADET,EAAA,CAAAU,kBAAA,MAAAH,eAAA,kBAAAA,eAAA,CAAAI,OAAA,MACF;;;;;IALFX,EAAA,CAAAY,uBAAA,GAAgC;IAC9BZ,EAAA,CAAAa,UAAA,IAAAC,mDAAA,iBAIM;;IACRd,EAAA,CAAAe,qBAAA,EAAe;;;;IAJiBf,EAAA,CAAAS,SAAA,GAA2B;IAA3BT,EAAA,CAAAI,UAAA,YAAAJ,EAAA,CAAAgB,WAAA,OAAAC,MAAA,CAAAC,cAAA,EAA2B;;;ADmB3D,OAAM,MAAOC,qBAAqB;EAblCC,YAAA;IAcE,KAAAC,SAAS,GAAY,KAAK;IAE1B,KAAAC,mBAAmB,GAAG/B,MAAM,CAACE,mBAAmB,CAAC;IACjD,KAAA8B,gBAAgB,GAAGhC,MAAM,CAACO,gBAAgB,CAAC;IAC3C,KAAA0B,EAAE,GAAGjC,MAAM,CAACD,iBAAiB,CAAC;IAE9B,KAAA4B,cAAc,GAAoC,IAAI,CAACI,mBAAmB,CAACJ,cAAc;;EAEzFO,QAAQA,CAAA;IACN,IAAI,CAACP,cAAc,CAChBQ,IAAI,CAAClC,SAAS,CAAC,IAAI,CAAC+B,gBAAgB,CAAC,CAAC,CACtCI,SAAS,CAAChB,OAAO,IAAG;MACnB,IAAIA,OAAO,CAACiB,MAAM,EAAE;QAClB,IAAI,CAACP,SAAS,GAAG,IAAI;QACrBQ,UAAU,CAAC,MAAK;UACd,IAAI,CAACR,SAAS,GAAG,KAAK;UACtB,IAAI,CAACC,mBAAmB,CAACJ,cAAc,CAACY,IAAI,CAAC,EAAE,CAAC;UAChD,IAAI,CAACN,EAAE,CAACO,aAAa,EAAE;QACzB,CAAC,EAAE,IAAI,CAAC;;MAEV,IAAI,CAACP,EAAE,CAACO,aAAa,EAAE;IAC3B,CAAC,CAAC;EACJ;EAEAzB,oBAAoBA,CAACE,IAAY;IAC/B,OAAOA,IAAI,KAAKT,SAAS,CAACiC,yBAAyB,GAAG,SAAS,GAAG,QAAQ;EAC5E;EAAC,QAAAC,CAAA,G;qBA3BUd,qBAAqB;EAAA;EAAA,QAAAe,EAAA,G;UAArBf,qBAAqB;IAAAgB,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAArC,EAAA,CAAAsC,mBAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCrBlC5C,EAAA,CAAAa,UAAA,IAAAiC,6CAAA,0BAMe;;;QANA9C,EAAA,CAAAI,UAAA,SAAAyC,GAAA,CAAAxB,SAAA,CAAe;;;mBDe1BzB,OAAO,EACPF,SAAS,EACTG,IAAI,EACJF,OAAO;IAAAoD,MAAA;IAAAC,eAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}