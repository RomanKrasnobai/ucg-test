{"ast":null,"code":"import { ChangeDetectorRef, inject } from '@angular/core';\nimport { TableComponent } from \"../../shared-components/table/table.component\";\nimport { UserFormComponent } from \"./user-form/user-form.component\";\nimport { UserService } from \"../../services/user.service\";\nimport { AsyncPipe } from \"@angular/common\";\nimport { NotificationComponent } from \"../../shared-components/notification/notification.component\";\nimport * as i0 from \"@angular/core\";\nexport class UserListComponent {\n  constructor() {\n    this.userService = inject(UserService);\n    this.cd = inject(ChangeDetectorRef);\n  }\n  ngOnInit() {\n    this.users$ = this.userService.users$;\n  }\n  onSavedUserForm(user) {\n    this.userService.saveUser(user, this.userService.selectedUser$.getValue());\n  }\n  removeUser(user) {\n    this.userService.removeUser(user);\n    this.cd.detectChanges();\n  }\n  selectedUser(user) {\n    this.userService.selectedUser$.next(user);\n    // this.cd.detectChanges();\n  }\n  static #_ = this.ɵfac = function UserListComponent_Factory(t) {\n    return new (t || UserListComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserListComponent,\n    selectors: [[\"app-user-list\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 6,\n    vars: 3,\n    consts: [[1, \"user-list-container\"], [3, \"data\", \"emitUser\"], [3, \"saveUserForm\", \"removedUser\"]],\n    template: function UserListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelement(1, \"app-notification\");\n        i0.ɵɵelementStart(2, \"article\")(3, \"app-table\", 1);\n        i0.ɵɵlistener(\"emitUser\", function UserListComponent_Template_app_table_emitUser_3_listener($event) {\n          return ctx.selectedUser($event);\n        });\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"app-user-form\", 2);\n        i0.ɵɵlistener(\"saveUserForm\", function UserListComponent_Template_app_user_form_saveUserForm_5_listener($event) {\n          return ctx.onSavedUserForm($event);\n        })(\"removedUser\", function UserListComponent_Template_app_user_form_removedUser_5_listener($event) {\n          return ctx.removeUser($event);\n        });\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"data\", i0.ɵɵpipeBind1(4, 1, ctx.users$));\n      }\n    },\n    dependencies: [TableComponent, UserFormComponent, AsyncPipe, NotificationComponent],\n    styles: [\".user-list-container[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  background-color: #EEF0F8;\\n}\\n\\n.user-list-container[_ngcontent-%COMP%]   article[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-around;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw2QkFBNkI7RUFDN0IsV0FBVztBQUNiIiwiZmlsZSI6InVzZXItbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnVzZXItbGlzdC1jb250YWluZXIge1xuICBoZWlnaHQ6IDEwMHZoO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VFRjBGODtcbn1cblxuLnVzZXItbGlzdC1jb250YWluZXIgYXJ0aWNsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICB3aWR0aDogMTAwJTtcbn1cbiJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw2QkFBNkI7RUFDN0IsV0FBVztBQUNiOztBQUVBLG9yQkFBb3JCIiwic291cmNlc0NvbnRlbnQiOlsiLnVzZXItbGlzdC1jb250YWluZXIge1xuICBoZWlnaHQ6IDEwMHZoO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VFRjBGODtcbn1cblxuLnVzZXItbGlzdC1jb250YWluZXIgYXJ0aWNsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICB3aWR0aDogMTAwJTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n    changeDetection: 0\n  });\n}","map":{"version":3,"names":["ChangeDetectorRef","inject","TableComponent","UserFormComponent","UserService","AsyncPipe","NotificationComponent","UserListComponent","constructor","userService","cd","ngOnInit","users$","onSavedUserForm","user","saveUser","selectedUser$","getValue","removeUser","detectChanges","selectedUser","next","_","_2","selectors","standalone","features","i0","ɵɵStandaloneFeature","decls","vars","consts","template","UserListComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵlistener","UserListComponent_Template_app_table_emitUser_3_listener","$event","ɵɵelementEnd","UserListComponent_Template_app_user_form_saveUserForm_5_listener","UserListComponent_Template_app_user_form_removedUser_5_listener","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","styles","changeDetection"],"sources":["/Users/romankrasnobai/Documents/programming-pet-projects/ucg-test/src/app/pages/user-list/user-list.component.ts","/Users/romankrasnobai/Documents/programming-pet-projects/ucg-test/src/app/pages/user-list/user-list.component.html"],"sourcesContent":["import {ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, OnInit} from '@angular/core';\nimport {TableComponent} from \"../../shared-components/table/table.component\";\nimport {User} from \"../../interfaces/user.interface\";\nimport {UserFormComponent} from \"./user-form/user-form.component\";\nimport {UserService} from \"../../services/user.service\";\nimport {BehaviorSubject} from \"rxjs\";\nimport {AsyncPipe} from \"@angular/common\";\nimport {NotificationComponent} from \"../../shared-components/notification/notification.component\";\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    TableComponent,\n    UserFormComponent,\n    AsyncPipe,\n    NotificationComponent,\n  ]\n})\nexport class UserListComponent implements OnInit {\n  users$: BehaviorSubject<User[]>;\n\n  private userService = inject(UserService);\n  private cd = inject(ChangeDetectorRef);\n\n  ngOnInit(): void {\n    this.users$ = this.userService.users$;\n  }\n\n  onSavedUserForm(user: User): void {\n    this.userService.saveUser(user, this.userService.selectedUser$.getValue());\n  }\n\n  removeUser(user: User): void {\n    this.userService.removeUser(user);\n    this.cd.detectChanges();\n  }\n\n  selectedUser(user: User): void {\n    this.userService.selectedUser$.next(user);\n    // this.cd.detectChanges();\n  }\n}\n","<section class=\"user-list-container\">\n  <app-notification />\n\n  <article>\n    <app-table [data]=\"(users$ | async)\"\n               (emitUser)=\"selectedUser($event)\"\n    />\n\n    <app-user-form (saveUserForm)=\"onSavedUserForm($event)\"\n                   (removedUser)=\"removeUser($event)\"\n    />\n  </article>\n</section>\n"],"mappings":"AAAA,SAAiCA,iBAAiB,EAAaC,MAAM,QAAe,eAAe;AACnG,SAAQC,cAAc,QAAO,+CAA+C;AAE5E,SAAQC,iBAAiB,QAAO,iCAAiC;AACjE,SAAQC,WAAW,QAAO,6BAA6B;AAEvD,SAAQC,SAAS,QAAO,iBAAiB;AACzC,SAAQC,qBAAqB,QAAO,6DAA6D;;AAejG,OAAM,MAAOC,iBAAiB;EAb9BC,YAAA;IAgBU,KAAAC,WAAW,GAAGR,MAAM,CAACG,WAAW,CAAC;IACjC,KAAAM,EAAE,GAAGT,MAAM,CAACD,iBAAiB,CAAC;;EAEtCW,QAAQA,CAAA;IACN,IAAI,CAACC,MAAM,GAAG,IAAI,CAACH,WAAW,CAACG,MAAM;EACvC;EAEAC,eAAeA,CAACC,IAAU;IACxB,IAAI,CAACL,WAAW,CAACM,QAAQ,CAACD,IAAI,EAAE,IAAI,CAACL,WAAW,CAACO,aAAa,CAACC,QAAQ,EAAE,CAAC;EAC5E;EAEAC,UAAUA,CAACJ,IAAU;IACnB,IAAI,CAACL,WAAW,CAACS,UAAU,CAACJ,IAAI,CAAC;IACjC,IAAI,CAACJ,EAAE,CAACS,aAAa,EAAE;EACzB;EAEAC,YAAYA,CAACN,IAAU;IACrB,IAAI,CAACL,WAAW,CAACO,aAAa,CAACK,IAAI,CAACP,IAAI,CAAC;IACzC;EACF;EAAC,QAAAQ,CAAA,G;qBAtBUf,iBAAiB;EAAA;EAAA,QAAAgB,EAAA,G;UAAjBhB,iBAAiB;IAAAiB,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAC,EAAA,CAAAC,mBAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCtB9BP,EAAA,CAAAS,cAAA,iBAAqC;QACnCT,EAAA,CAAAU,SAAA,uBAAoB;QAEpBV,EAAA,CAAAS,cAAA,cAAS;QAEIT,EAAA,CAAAW,UAAA,sBAAAC,yDAAAC,MAAA;UAAA,OAAYL,GAAA,CAAAf,YAAA,CAAAoB,MAAA,CAAoB;QAAA,EAAC;;QAD5Cb,EAAA,CAAAc,YAAA,EAEE;QAEFd,EAAA,CAAAS,cAAA,uBAEE;QAFaT,EAAA,CAAAW,UAAA,0BAAAI,iEAAAF,MAAA;UAAA,OAAgBL,GAAA,CAAAtB,eAAA,CAAA2B,MAAA,CAAuB;QAAA,EAAC,yBAAAG,gEAAAH,MAAA;UAAA,OACzBL,GAAA,CAAAjB,UAAA,CAAAsB,MAAA,CAAkB;QAAA,EADO;QAAvDb,EAAA,CAAAc,YAAA,EAEE;;;QANSd,EAAA,CAAAiB,SAAA,GAAyB;QAAzBjB,EAAA,CAAAkB,UAAA,SAAAlB,EAAA,CAAAmB,WAAA,OAAAX,GAAA,CAAAvB,MAAA,EAAyB;;;mBDYpCV,cAAc,EACdC,iBAAiB,EACjBE,SAAS,EACTC,qBAAqB;IAAAyC,MAAA;IAAAC,eAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}