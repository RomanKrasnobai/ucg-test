{"ast":null,"code":"import { ElementRef, inject } from '@angular/core';\nimport { fromEvent, shareReplay, tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nexport class FormSubmitDirective {\n  constructor() {\n    this.host = inject(ElementRef);\n    this.submit$ = fromEvent(this.element, 'submit').pipe(tap(() => {\n      if (!this.element.classList.contains('submitted')) {\n        this.element.classList.add('submitted');\n      }\n    }), shareReplay(1));\n  }\n  get element() {\n    return this.host.nativeElement;\n  }\n  static #_ = this.ɵfac = function FormSubmitDirective_Factory(t) {\n    return new (t || FormSubmitDirective)();\n  };\n  static #_2 = this.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: FormSubmitDirective,\n    selectors: [[\"form\"]],\n    standalone: true\n  });\n}","map":{"version":3,"names":["ElementRef","inject","fromEvent","shareReplay","tap","FormSubmitDirective","constructor","host","submit$","element","pipe","classList","contains","add","nativeElement","_","_2","selectors","standalone"],"sources":["/Users/romankrasnobai/Documents/programming-pet-projects/ucg-test/src/app/directives/form-submit.directive.ts"],"sourcesContent":["import {Directive, ElementRef, inject} from '@angular/core';\nimport {fromEvent, shareReplay, tap} from \"rxjs\";\n\n@Directive({\n  selector: 'form',\n  standalone: true,\n})\nexport class FormSubmitDirective {\n  private host = inject(ElementRef<HTMLFormElement>);\n\n  submit$ = fromEvent(this.element, 'submit')\n    .pipe(tap(() => {\n      if (!this.element.classList.contains('submitted')) {\n        this.element.classList.add('submitted');\n      }\n    }), shareReplay(1))\n\n  get element() {\n    return this.host.nativeElement;\n  }\n}\n"],"mappings":"AAAA,SAAmBA,UAAU,EAAEC,MAAM,QAAO,eAAe;AAC3D,SAAQC,SAAS,EAAEC,WAAW,EAAEC,GAAG,QAAO,MAAM;;AAMhD,OAAM,MAAOC,mBAAmB;EAJhCC,YAAA;IAKU,KAAAC,IAAI,GAAGN,MAAM,CAACD,UAA2B,CAAC;IAElD,KAAAQ,OAAO,GAAGN,SAAS,CAAC,IAAI,CAACO,OAAO,EAAE,QAAQ,CAAC,CACxCC,IAAI,CAACN,GAAG,CAAC,MAAK;MACb,IAAI,CAAC,IAAI,CAACK,OAAO,CAACE,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;QACjD,IAAI,CAACH,OAAO,CAACE,SAAS,CAACE,GAAG,CAAC,WAAW,CAAC;;IAE3C,CAAC,CAAC,EAAEV,WAAW,CAAC,CAAC,CAAC,CAAC;;EAErB,IAAIM,OAAOA,CAAA;IACT,OAAO,IAAI,CAACF,IAAI,CAACO,aAAa;EAChC;EAAC,QAAAC,CAAA,G;qBAZUV,mBAAmB;EAAA;EAAA,QAAAW,EAAA,G;UAAnBX,mBAAmB;IAAAY,SAAA;IAAAC,UAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}